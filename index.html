<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Little Surprise For You üíï</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            min-height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 50%, #e1bee7 100%);
        }

        .scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease, transform 0.6s ease;
            transform: scale(0.95);
        }

        .scene.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .scene1 {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 50%, #e1bee7 100%);
        }

        .scene3 {
            background: linear-gradient(135deg, #fff9c4 0%, #ffecb3 50%, #ffe0b2 100%);
            transition: background 0.5s ease;
        }

        .panda {
            width: 200px;
            height: 200px;
            position: relative;
            animation: float 3s ease-in-out infinite, wiggle 2s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        @keyframes wiggle {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            25% { transform: translateY(-8px) rotate(2deg); }
            50% { transform: translateY(-15px) rotate(-2deg); }
            75% { transform: translateY(-8px) rotate(2deg); }
        }

        .panda-body {
            width: 150px;
            height: 130px;
            background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 100%);
            border-radius: 75px 75px 65px 65px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }

        .panda-belly {
            width: 90px;
            height: 70px;
            background: #fff;
            border-radius: 50%;
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .panda-heart {
            position: absolute;
            bottom: 45px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.2); }
        }

        .panda-head {
            width: 145px;
            height: 125px;
            background: linear-gradient(180deg, #ffffff 0%, #f8f8f8 100%);
            border-radius: 50%;
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
        }

        .panda-ear {
            width: 45px;
            height: 45px;
            background: #3d3d3d;
            border-radius: 50%;
            position: absolute;
            top: -8px;
            animation: earWiggle 3s ease-in-out infinite;
        }

        @keyframes earWiggle {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(5deg); }
        }

        .panda-ear.left { left: 5px; }
        .panda-ear.right { right: 5px; animation-delay: 0.5s; }

        .panda-ear-inner {
            width: 22px;
            height: 22px;
            background: #ffb6c1;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .panda-eye-patch {
            width: 42px;
            height: 36px;
            background: #3d3d3d;
            border-radius: 50%;
            position: absolute;
            top: 32px;
        }

        .panda-eye-patch.left {
            left: 15px;
            transform: rotate(-12deg);
        }

        .panda-eye-patch.right {
            right: 15px;
            transform: rotate(12deg);
        }

        .panda-eye {
            width: 26px;
            height: 30px;
            background: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 34px;
            animation: blink 4s infinite;
        }

        .panda-eye.left { left: 24px; }
        .panda-eye.right { right: 24px; }

        .panda-pupil {
            width: 14px;
            height: 16px;
            background: #1a1a1a;
            border-radius: 50%;
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
        }

        .panda-pupil::after {
            content: '';
            width: 6px;
            height: 6px;
            background: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            right: 1px;
        }

        .panda-pupil::before {
            content: '';
            width: 3px;
            height: 3px;
            background: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 7px;
            left: 2px;
        }

        .panda-sparkle {
            position: absolute;
            font-size: 10px;
            animation: twinkle 1.5s ease-in-out infinite;
        }

        .panda-sparkle.left { top: 30px; left: 18px; }
        .panda-sparkle.right { top: 30px; right: 18px; animation-delay: 0.5s; }

        @keyframes twinkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        .panda-nose {
            width: 18px;
            height: 12px;
            background: #3d3d3d;
            border-radius: 50%;
            position: absolute;
            top: 62px;
            left: 50%;
            transform: translateX(-50%);
        }

        .panda-mouth {
            position: absolute;
            top: 72px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 18px;
        }

        .panda-mouth::before,
        .panda-mouth::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 12px;
            border-bottom: 3px solid #3d3d3d;
            border-radius: 0 0 50% 50%;
        }

        .panda-mouth::before { left: 1px; }
        .panda-mouth::after { right: 1px; }

        .panda-tongue {
            width: 10px;
            height: 8px;
            background: #ff9999;
            border-radius: 0 0 50% 50%;
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
        }

        .panda-blush {
            width: 28px;
            height: 14px;
            background: linear-gradient(180deg, #ffb6c1 0%, #ff9eb5 100%);
            border-radius: 50%;
            position: absolute;
            top: 55px;
            opacity: 0.8;
            animation: blushPulse 2s ease-in-out infinite;
        }

        @keyframes blushPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .panda-blush.left { left: 5px; }
        .panda-blush.right { right: 5px; }

        .panda-arm {
            width: 35px;
            height: 55px;
            background: #3d3d3d;
            border-radius: 22px;
            position: absolute;
            bottom: 30px;
        }

        .panda-arm.left {
            left: 5px;
            transform: rotate(20deg);
            animation: waveLeft 2s ease-in-out infinite;
        }

        .panda-arm.right {
            right: 5px;
            transform: rotate(-20deg);
            animation: waveRight 2s ease-in-out infinite;
        }

        @keyframes waveLeft {
            0%, 100% { transform: rotate(20deg); }
            50% { transform: rotate(30deg); }
        }

        @keyframes waveRight {
            0%, 100% { transform: rotate(-20deg); }
            50% { transform: rotate(-30deg); }
        }

        .panda-foot {
            width: 30px;
            height: 20px;
            background: #3d3d3d;
            border-radius: 50%;
            position: absolute;
            bottom: 0;
        }

        .panda-foot.left { left: 25px; }
        .panda-foot.right { right: 25px; }

        .question-text {
            font-size: 1.5rem;
            color: #6d4c7d;
            text-align: center;
            margin: 30px 0;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .button-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 280px;
        }

        .cute-btn {
            padding: 16px 32px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .cute-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .cute-btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .btn-yes {
            background: linear-gradient(135deg, #f48fb1 0%, #f06292 100%);
            color: white;
        }

        .btn-yesss {
            background: linear-gradient(135deg, #ce93d8 0%, #ba68c8 100%);
            color: white;
        }

        .btn-another {
            background: linear-gradient(135deg, #ffcc80 0%, #ffb74d 100%);
            color: #5d4037;
        }

        .btn-restart {
            background: linear-gradient(135deg, #a5d6a7 0%, #81c784 100%);
            color: #2e7d32;
        }

        .bear-container {
            width: 200px;
            height: 200px;
            position: relative;
            animation: float 3s ease-in-out infinite;
        }

        .bear {
            width: 100%;
            height: 100%;
            position: relative;
            transition: all 0.5s ease;
        }

        .bear-body {
            width: 150px;
            height: 130px;
            border-radius: 75px 75px 65px 65px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
            transition: background 0.5s ease;
        }

        .bear-belly {
            width: 85px;
            height: 65px;
            border-radius: 50%;
            position: absolute;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
            transition: background 0.5s ease;
        }

        .bear-head {
            width: 140px;
            height: 120px;
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
            transition: background 0.5s ease;
        }

        .bear-ear {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: absolute;
            top: -5px;
            transition: background 0.5s ease;
        }

        .bear-ear.left { left: 8px; }
        .bear-ear.right { right: 8px; }

        .bear-ear-inner {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: background 0.5s ease;
        }

        .bear-eye {
            width: 16px;
            height: 20px;
            background: #4a4a4a;
            border-radius: 50%;
            position: absolute;
            top: 42px;
            animation: bearBlink 4s infinite;
        }

        .bear-eye.left { left: 35px; }
        .bear-eye.right { right: 35px; }

        .bear-eye::after {
            content: '';
            width: 6px;
            height: 6px;
            background: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 3px;
            right: 2px;
        }

        @keyframes bearBlink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        .bear-nose {
            width: 20px;
            height: 14px;
            border-radius: 50%;
            position: absolute;
            top: 58px;
            left: 50%;
            transform: translateX(-50%);
            transition: background 0.5s ease;
        }

        .bear-mouth {
            width: 38px;
            height: 16px;
            position: absolute;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
        }

        .bear-mouth::before,
        .bear-mouth::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 10px;
            border-bottom: 3px solid;
            border-radius: 0 0 50% 50%;
            transition: border-color 0.5s ease;
        }

        .bear-mouth::before { left: 2px; }
        .bear-mouth::after { right: 2px; }

        .bear-blush {
            width: 24px;
            height: 13px;
            border-radius: 50%;
            position: absolute;
            top: 55px;
            opacity: 0.8;
            animation: blushPulse 2s ease-in-out infinite;
            transition: background 0.5s ease;
        }

        .bear-blush.left { left: 12px; }
        .bear-blush.right { right: 12px; }

        .bear-arm {
            width: 32px;
            height: 50px;
            border-radius: 20px;
            position: absolute;
            bottom: 35px;
            transition: background 0.5s ease;
        }

        .bear-arm.left {
            left: 8px;
            transform: rotate(22deg);
        }

        .bear-arm.right {
            right: 8px;
            transform: rotate(-22deg);
        }

        .bear-accessory {
            position: absolute;
            font-size: 20px;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 1s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .message-text {
            font-size: 1.3rem;
            color: #6d4c41;
            text-align: center;
            margin: 30px 20px;
            font-weight: 600;
            line-height: 1.6;
            max-width: 350px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            animation: messageAppear 0.5s ease;
        }

        .signature {
            font-size: 1.1rem;
            color: #9c7a97;
            text-align: center;
            margin-top: 25px;
            font-weight: 600;
            font-style: italic;
            opacity: 0.9;
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkleFloat 1.5s ease-out forwards;
        }

        @keyframes sparkleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0) rotate(180deg);
            }
        }

        .floating-heart {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            animation: heartFloat 4s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes heartFloat {
            0%, 100% {
                transform: translateY(0) rotate(-5deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }

        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0);
            pointer-events: none;
            z-index: 100;
            transition: background 0.4s ease;
        }

        .transition-overlay.active {
            background: rgba(255, 255, 255, 0.8);
        }

        @media (min-width: 480px) {
            .question-text {
                font-size: 1.8rem;
            }

            .message-text {
                font-size: 1.5rem;
            }

            .panda, .bear-container {
                width: 240px;
                height: 240px;
            }

            .button-container {
                flex-direction: row;
                max-width: 400px;
                justify-content: center;
            }

            .cute-btn {
                padding: 18px 36px;
                font-size: 1.2rem;
            }
        }

        @media (min-width: 768px) {
            .question-text {
                font-size: 2rem;
            }

            .message-text {
                font-size: 1.7rem;
                max-width: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="transition-overlay" id="overlay"></div>

    <div class="scene scene1 active" id="scene1">
        <div class="panda">
            <div class="panda-body">
                <div class="panda-belly"></div>
                <div class="panda-heart">üíñ</div>
                <div class="panda-arm left"></div>
                <div class="panda-arm right"></div>
                <div class="panda-foot left"></div>
                <div class="panda-foot right"></div>
            </div>
            <div class="panda-head">
                <div class="panda-ear left">
                    <div class="panda-ear-inner"></div>
                </div>
                <div class="panda-ear right">
                    <div class="panda-ear-inner"></div>
                </div>
                <div class="panda-sparkle left">‚ú®</div>
                <div class="panda-sparkle right">‚ú®</div>
                <div class="panda-eye-patch left"></div>
                <div class="panda-eye-patch right"></div>
                <div class="panda-eye left">
                    <div class="panda-pupil"></div>
                </div>
                <div class="panda-eye right">
                    <div class="panda-pupil"></div>
                </div>
                <div class="panda-blush left"></div>
                <div class="panda-blush right"></div>
                <div class="panda-nose"></div>
                <div class="panda-mouth">
                    <div class="panda-tongue"></div>
                </div>
            </div>
        </div>
        <p class="question-text">Do you want to know something?</p>
        <div class="button-container">
            <button class="cute-btn btn-yes" onclick="handleYesClick()">Yes</button>
            <button class="cute-btn btn-yesss" onclick="handleYesClick()">Yessssssss</button>
        </div>
    </div>

    <div class="scene scene3" id="scene3">
        <div class="bear-container">
            <div class="bear" id="bear">
                <div class="bear-accessory" id="bearAccessory">üå∏</div>
                <div class="bear-body" id="bearBody">
                    <div class="bear-belly" id="bearBelly"></div>
                    <div class="bear-arm left" id="bearArmLeft"></div>
                    <div class="bear-arm right" id="bearArmRight"></div>
                </div>
                <div class="bear-head" id="bearHead">
                    <div class="bear-ear left" id="bearEarLeft">
                        <div class="bear-ear-inner" id="bearEarInnerLeft"></div>
                    </div>
                    <div class="bear-ear right" id="bearEarRight">
                        <div class="bear-ear-inner" id="bearEarInnerRight"></div>
                    </div>
                    <div class="bear-eye left"></div>
                    <div class="bear-eye right"></div>
                    <div class="bear-blush left" id="bearBlushLeft"></div>
                    <div class="bear-blush right" id="bearBlushRight"></div>
                    <div class="bear-nose" id="bearNose"></div>
                    <div class="bear-mouth" id="bearMouth"></div>
                </div>
            </div>
        </div>
        <p class="message-text" id="messageText"></p>
        <div class="button-container">
            <button class="cute-btn btn-another" onclick="showNewMessage()">Another Message üíñ</button>
            <button class="cute-btn btn-restart" onclick="startOver()">Start Over üêº</button>
        </div>
        <p class="signature">from kavii‚ù§Ô∏è</p>
    </div>

    <script>
        const messages = [
            "Just a gentle reminder that you are truly special.",
            "You bring so much warmth into the lives around you.",
            "I hope today feels light, calm, and kind to you.",
            "You are loved in more ways than you can see.",
            "The world feels a little softer because you exist.",
            "May today surprise you with small, happy moments.",
            "You deserve peace, comfort, and genuine smiles today.",
            "Never forget how much you mean to the people who know you.",
            "You have a beautiful heart, and it shows.",
            "Sending you warmth, love, and quiet happiness.",
            "You make ordinary days feel more meaningful.",
            "I hope you feel appreciated and cared for today.",
            "You are enough, exactly as you are.",
            "May your day be as gentle as your soul.",
            "You are a blessing in ways you may not realize.",
            "Even on busy days, you bring calm with you.",
            "You deserve good things and soft moments.",
            "Thank you for being you, it truly matters.",
            "I hope today gives you reasons to smile.",
            "You are deeply cherished, always."
        ];

        const bearVariants = [
            {
                name: 'honey',
                body: 'linear-gradient(135deg, #ffe4b5 0%, #ffd699 100%)',
                belly: '#fff8e7',
                nose: '#8b6914',
                blush: '#ffb6c1',
                earInner: '#ffb6c1',
                accessory: 'üçØ',
                background: 'linear-gradient(135deg, #fff9c4 0%, #ffecb3 50%, #ffe0b2 100%)'
            },
            {
                name: 'strawberry',
                body: 'linear-gradient(135deg, #ffcdd2 0%, #f8bbd9 100%)',
                belly: '#fff0f5',
                nose: '#c2185b',
                blush: '#ff80ab',
                earInner: '#f48fb1',
                accessory: 'üçì',
                background: 'linear-gradient(135deg, #fce4ec 0%, #f8bbd9 50%, #f3e5f5 100%)'
            },
            {
                name: 'mint',
                body: 'linear-gradient(135deg, #b2dfdb 0%, #80cbc4 100%)',
                belly: '#e0f2f1',
                nose: '#00695c',
                blush: '#a5d6a7',
                earInner: '#a5d6a7',
                accessory: 'üåø',
                background: 'linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 50%, #b2dfdb 100%)'
            },
            {
                name: 'lavender',
                body: 'linear-gradient(135deg, #e1bee7 0%, #ce93d8 100%)',
                belly: '#f3e5f5',
                nose: '#7b1fa2',
                blush: '#f48fb1',
                earInner: '#f8bbd9',
                accessory: 'ü¶ã',
                background: 'linear-gradient(135deg, #f3e5f5 0%, #e1bee7 50%, #d1c4e9 100%)'
            },
            {
                name: 'peach',
                body: 'linear-gradient(135deg, #ffccbc 0%, #ffab91 100%)',
                belly: '#fff3e0',
                nose: '#bf360c',
                blush: '#ffab91',
                earInner: '#ffcc80',
                accessory: 'üçë',
                background: 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 50%, #ffccbc 100%)'
            },
            {
                name: 'blueberry',
                body: 'linear-gradient(135deg, #bbdefb 0%, #90caf9 100%)',
                belly: '#e3f2fd',
                nose: '#1565c0',
                blush: '#b39ddb',
                earInner: '#b39ddb',
                accessory: 'üíô',
                background: 'linear-gradient(135deg, #e3f2fd 0%, #bbdefb 50%, #b3e5fc 100%)'
            },
            {
                name: 'caramel',
                body: 'linear-gradient(135deg, #d7ccc8 0%, #bcaaa4 100%)',
                belly: '#efebe9',
                nose: '#4e342e',
                blush: '#ffab91',
                earInner: '#ffccbc',
                accessory: 'üßÅ',
                background: 'linear-gradient(135deg, #efebe9 0%, #d7ccc8 50%, #bcaaa4 100%)'
            },
            {
                name: 'lemon',
                body: 'linear-gradient(135deg, #fff59d 0%, #ffee58 100%)',
                belly: '#fffde7',
                nose: '#f9a825',
                blush: '#ffcc80',
                earInner: '#ffe082',
                accessory: 'üåü',
                background: 'linear-gradient(135deg, #fffde7 0%, #fff9c4 50%, #fff59d 100%)'
            }
        ];

        let floatingHearts = [];
        let currentBearIndex = 0;

        function getRandomMessage() {
            return messages[Math.floor(Math.random() * messages.length)];
        }

        function getRandomBear() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * bearVariants.length);
            } while (newIndex === currentBearIndex && bearVariants.length > 1);
            currentBearIndex = newIndex;
            return bearVariants[newIndex];
        }

        function applyBearStyle(bear) {
            document.getElementById('bearBody').style.background = bear.body;
            document.getElementById('bearBelly').style.background = bear.belly;
            document.getElementById('bearHead').style.background = bear.body;
            document.getElementById('bearEarLeft').style.background = bear.body;
            document.getElementById('bearEarRight').style.background = bear.body;
            document.getElementById('bearEarInnerLeft').style.background = bear.earInner;
            document.getElementById('bearEarInnerRight').style.background = bear.earInner;
            document.getElementById('bearNose').style.background = bear.nose;
            document.getElementById('bearBlushLeft').style.background = bear.blush;
            document.getElementById('bearBlushRight').style.background = bear.blush;
            document.getElementById('bearArmLeft').style.background = bear.body;
            document.getElementById('bearArmRight').style.background = bear.body;
            document.getElementById('bearAccessory').textContent = bear.accessory;
            document.getElementById('scene3').style.background = bear.background;
            
            const mouth = document.getElementById('bearMouth');
            mouth.style.setProperty('--mouth-color', bear.nose);
            mouth.querySelectorAll('::before, ::after').forEach(el => {
                el.style.borderColor = bear.nose;
            });

            const style = document.createElement('style');
            style.textContent = `
                #bearMouth::before, #bearMouth::after {
                    border-bottom-color: ${bear.nose} !important;
                }
            `;
            const oldStyle = document.getElementById('bearMouthStyle');
            if (oldStyle) oldStyle.remove();
            style.id = 'bearMouthStyle';
            document.head.appendChild(style);
        }

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.innerHTML = ['‚ú®', 'üíñ', 'üíï', '‚≠ê', 'üåü'][Math.floor(Math.random() * 5)];
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = (Math.random() * 20 + 15) + 'px';
            document.body.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1500);
        }

        function createSparkleExplosion(centerX, centerY) {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() - 0.5) * 150;
                    const offsetY = (Math.random() - 0.5) * 150;
                    createSparkle(centerX + offsetX, centerY + offsetY);
                }, i * 50);
            }
        }

        function createFloatingHearts() {
            floatingHearts.forEach(heart => heart.remove());
            floatingHearts = [];

            const hearts = ['üíï', 'üíñ', 'üíó', 'üíõ', 'üß°', '‚ú®'];
            for (let i = 0; i < 8; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = Math.random() * 100 + 'vh';
                heart.style.animationDelay = Math.random() * 4 + 's';
                heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                document.body.appendChild(heart);
                floatingHearts.push(heart);
            }
        }

        function removeFloatingHearts() {
            floatingHearts.forEach(heart => heart.remove());
            floatingHearts = [];
        }

        function handleYesClick() {
            const overlay = document.getElementById('overlay');
            const scene1 = document.getElementById('scene1');
            const scene3 = document.getElementById('scene3');
            const messageText = document.getElementById('messageText');

            createSparkleExplosion(window.innerWidth / 2, window.innerHeight / 2);

            overlay.classList.add('active');

            setTimeout(() => {
                scene1.classList.remove('active');
                applyBearStyle(getRandomBear());
                messageText.textContent = getRandomMessage();
                scene3.classList.add('active');
                createFloatingHearts();
                overlay.classList.remove('active');
            }, 500);
        }

        function showNewMessage() {
            const messageText = document.getElementById('messageText');
            const bearContainer = document.querySelector('.bear-container');
            
            messageText.style.animation = 'none';
            bearContainer.style.animation = 'none';
            messageText.offsetHeight;
            bearContainer.offsetHeight;

            applyBearStyle(getRandomBear());
            messageText.textContent = getRandomMessage();

            messageText.style.animation = 'messageAppear 0.5s ease';
            bearContainer.style.animation = 'float 3s ease-in-out infinite';

            createSparkleExplosion(window.innerWidth / 2, window.innerHeight / 2);
        }

        function startOver() {
            const overlay = document.getElementById('overlay');
            const scene1 = document.getElementById('scene1');
            const scene3 = document.getElementById('scene3');

            overlay.classList.add('active');

            setTimeout(() => {
                scene3.classList.remove('active');
                scene1.classList.add('active');
                removeFloatingHearts();
                overlay.classList.remove('active');
            }, 500);
        }

        applyBearStyle(getRandomBear());
        document.getElementById('messageText').textContent = getRandomMessage();
    </script>
</body>
</html>